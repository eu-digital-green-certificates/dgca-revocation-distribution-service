{"openapi":"3.0.1","info":{"title":"EU Digital COVID Certificate Revocation Distribution Service","description":"The API provides the endpoints for retrieving the revocation list","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"1.0.1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/revocation/lookup":{"post":{"tags":["Revocation Lookup"],"summary":"Locks up the revocation state for a list of revocation check tokens.","description":"This method returns a list of hashes, which check got a positive result for revocation. The certificates to be checked, must be provided as list of revocation check tokens (JWT tokens) in the request boddy.","operationId":"lookupRevocation","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"200":{"description":"Returns all a list of all hashes from the request tokens, that are revoked.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"400":{"description":"Returned on wrong or missing request parameters.","content":{"application/json":{"schema":{"type":"string"}}}},"404":{"description":"Returned if public key could not be found.","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/lists/{kid}/partitions/{id}/slices":{"post":{"tags":["Revocation Lists"],"summary":"Returns all slice data for the selected partition.","description":"Returns all slices binary data in a gzip file for a partition. The result set can be filtered by a provided whitelist in the request body.","operationId":"getPartitionChunksData","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the data should be returned.","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","description":"The id of the partition.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"200":{"description":"Returns the binary slice data as gzip file.","content":{"application/gzip":{}}},"304":{"description":"Not modified.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"404":{"description":"Data not found.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/lists/{kid}/partitions/{id}/chunks/{cid}/slices":{"get":{"tags":["Revocation Lists"],"summary":"Returns all slice data for the selected chunk.","description":"Returns all slices binary data in a gzip file for the selected chunk. ","operationId":"getChunk","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the data should be returned.","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","description":"The id of the partition.","required":true,"schema":{"type":"string"}},{"name":"cid","in":"path","description":"The id of the chunk.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the binary slice data as gzip file.","content":{"application/gzip":{}}},"304":{"description":"Not modified.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"404":{"description":"Data not found.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}},"post":{"tags":["Revocation Lists"],"summary":"Returns all slice data for the selected chunk.","description":"Returns all slices binary data in a gzip file for a selected chunk. The result set can be filtered by a provided whitelist in the request body.","operationId":"getPartitionChunks","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the data should be returned.","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","description":"The id of the partition.","required":true,"schema":{"type":"string"}},{"name":"cid","in":"path","description":"The id of the chunk.","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"responses":{"200":{"description":"Returns the binary slice data as gzip file.","content":{"application/gzip":{}}},"304":{"description":"Not modified.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"404":{"description":"Data not found.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/lists":{"get":{"tags":["Revocation Lists"],"summary":"Returns an overview about all available revocation lists.","description":"This method returns an overview about available revocation lists for each KID. The response contains for all available KIDs the last modification date, the used hash types etc.","operationId":"getRevocationList","parameters":[{"name":"IF-NONE-MATCH","in":"header","description":"When the eTag matches the current Tag, there is a 304 response.","schema":{"type":"string"}},{"name":"If-None-Match","in":"header","required":false,"schema":{"type":"string","default":""}}],"responses":{"200":{"description":"Returns the overview about available lists.","headers":{"ETag":{"description":"ETAG of the current data set","style":"simple","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RevocationListJsonResponseItemDto"}}}}},"304":{"description":"Not modified.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RevocationListJsonResponseItemDto"}}}}}}}},"/lists/{kid}/partitions":{"get":{"tags":["Revocation Lists"],"summary":"Returns for the selected kid all Partitions.","description":"Returns a list of all available partitions for a kid.","operationId":"getPartitionListForKid","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the partition should be returned.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns a list of partitions for the kid.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartitionResponseDto"}}}}},"304":{"description":"Not modified.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartitionResponseDto"}}}}},"404":{"description":"Data not found.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartitionResponseDto"}}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartitionResponseDto"}}}}}}}},"/lists/{kid}/partitions/{id}":{"get":{"tags":["Revocation Lists"],"summary":"Returns for the selected kid a Partition.","description":"Returns a Partition by Id.","operationId":"getPartitionForKid","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the partition should be returned.","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","description":"The id of the partition within the kid.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the partitions for the kid.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartitionResponseDto"}}}},"304":{"description":"Not modified.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartitionResponseDto"}}}},"404":{"description":"Data not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartitionResponseDto"}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartitionResponseDto"}}}}}}},"/lists/{kid}/partitions/{id}/chunks/{cid}/slices/{sid}":{"get":{"tags":["Revocation Lists"],"summary":"Returns the slice data for the selected slice.","description":"Returns the slices binary data in a gzip file for a selected slice.","operationId":"getSlice","parameters":[{"name":"If-Match","in":"header","description":"When eTag matches (received from /lists), the call will be executed.","required":true,"schema":{"type":"string"}},{"name":"If-Modified-Since","in":"header","description":"Returns only the objects which are modified behind the given date.","required":false,"schema":{"type":"string"}},{"name":"X-SLICE-FILTER-TYPE","in":"header","description":"Can be used to select the filter type of the slice data, if the backend offers more than one type. Possible values are BLOOMFILTER, VARHASHLIST","required":false,"schema":{"type":"string"}},{"name":"kid","in":"path","description":"The kid, for which the data should be returned.","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","description":"The id of the partition.","required":true,"schema":{"type":"string"}},{"name":"cid","in":"path","description":"The id of the chunk.","required":true,"schema":{"type":"string"}},{"name":"sid","in":"path","description":"The id of the slice.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the binary slice data as gzip file.","content":{"application/gzip":{}}},"304":{"description":"Not modified.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"404":{"description":"Data not found.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}},"412":{"description":"Pre-Condition Failed.","content":{"application/gzip":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}}},"components":{"schemas":{"RevocationListJsonResponseItemDto":{"type":"object","properties":{"kid":{"type":"string"},"mode":{"type":"string"},"hashTypes":{"type":"array","items":{"type":"string"}},"expires":{"type":"string","format":"date-time"},"lastUpdated":{"type":"string","format":"date-time"}}},"PartitionChunksJsonItemDto":{"type":"object","properties":{"type":{"type":"string"},"version":{"type":"string"},"hash":{"type":"string"}}},"PartitionResponseDto":{"type":"object","properties":{"kid":{"type":"string"},"id":{"type":"string"},"x":{"type":"string"},"y":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"},"expired":{"type":"string","format":"date-time"},"chunks":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/PartitionChunksJsonItemDto"}}}}}}}}